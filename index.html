<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Lovely WebGL - 05111942000020</title>
</head>
<body>
    <script type="module" ">
        import * as THREE from './build/three.module.js';
        import { OrbitControls } from './js/OrbitControls.js';
        
        var scene = new THREE.Scene();
  var camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 1, 2000);
  scene.add(camera);
  camera.position.set(0,100,500);

  var renderer = new THREE.WebGLRenderer({antialias: true});
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);


  var light = new THREE.AmbientLight( 0x888888 )
scene.add( light )


var light = new THREE.DirectionalLight( 0xfdfcf0, 1 )
light.position.set(20,10,20)
scene.add( light )

const loader = new THREE.TextureLoader();
const cloudTexture = loader.load("images/clouds_2.jpg");
const earthTexture = loader.load("images/earth_texture_2.jpg")
const starTexture = loader.load("images/galaxy_starfield.png")
const moonTexture = loader.load("images/moon_texture.jpg")

  var earthGeometry = new THREE.SphereGeometry( 50, 50, 50 );
var earthMaterial = new THREE.MeshPhongMaterial({
    map: earthTexture,
    color: 0xaaaaaa,
  specular: 0x333333,
  shininess: 25
});

var earth = new THREE.Mesh(earthGeometry, earthMaterial);

scene.add(earth);
earth.position.set(0,100,0)

var cloudGeometry = new THREE.SphereGeometry(50,  50, 50);
var cloudMaterial = new THREE.MeshPhongMaterial({
  map: cloudTexture,
  transparent: true,
  opacity: 0.3
});


var clouds = new THREE.Mesh(cloudGeometry, cloudMaterial);
scene.add(clouds);
clouds.position.set(0,100,1)


var starGeometry = new THREE.SphereGeometry(1000, 50, 50);
var starMaterial = new THREE.MeshPhongMaterial({
  map: starTexture,
  side: THREE.DoubleSide,
  shininess: 0
});
var starField = new THREE.Mesh(starGeometry, starMaterial);
scene.add(starField);
starField.position.set(0,100,0)

var moonGeometry = new THREE.SphereGeometry(15, 50,50);
var moonMaterial = new THREE.MeshPhongMaterial({
  map: moonTexture
});
var moon = new THREE.Mesh(moonGeometry, moonMaterial);
moon.position.set(135,100,-20);
scene.add(moon);

var r2 = 125;
var r = -100;
var theta = 0;
var dTheta = 2 * Math.PI / 1000;

var render = function (actions) {
    earth.rotation.y -= .0005;
    clouds.rotation.y -= .00025;
    earth.rotation.x -= .000025;
    clouds.rotation.x -= .0000125;
    theta += dTheta;

  moon.position.x = r2 * Math.cos(theta);
  moon.position.z = r * Math.sin(theta);
renderer.render(scene, camera);
requestAnimationFrame(render);
};
render();
    </script>
</body>
</html>